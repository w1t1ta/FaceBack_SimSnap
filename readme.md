# FaceBack SimSnap
## ตัวอย่างการทำงานของระบบ (Project Demo)
### 1. หน้าหลักและการอัปโหลด (Upload Interface)
1. เมื่อเข้าสู่หน้าเว็บแอปพลิเคชัน ผู้ใช้จะพบกับหน้าจอหลักสำหรับอัปโหลดรูปภาพ โดยผู้ใช้สามารถคลิกที่กล่องข้อความ "คลิกเพื่ออัปโหลดรูปภาพ" เพื่อเลือกไฟล์ หรือทำการลากและวางไฟล์ภาพที่ต้องการวิเคราะห์ ซึ่งแสดงดังภาพ
<img width="1919" height="920" alt="Image" src="https://github.com/user-attachments/assets/76e7b0be-7fb2-4b4a-bde0-cd5322a1c2a0" />
<br><br>
2. ตัวอย่างแสดงการเลือกไฟล์ภาพ
<img width="1919" height="918" alt="Image" src="https://github.com/user-attachments/assets/3cf49d2c-ae96-42c9-97d1-162770bf6a2c" />
<br><br>
3. หลังจากเลือกไฟล์ภาพเสร็จสิ้น ระบบจะแสดงภาพตัวอย่างของรูปภาพทั้งหมดที่ถูกอัปโหลดเข้ามา พร้อมทั้งแสดงจำนวนภาพที่เลือก ในขั้นตอนนี้ปุ่มเลือกโหมดและปุ่ม "เริ่มการวิเคราะห์" จะถูกเปิดใช้งาน 
<img width="1919" height="922" alt="Image" src="https://github.com/user-attachments/assets/a0107450-a5f7-460c-841d-e193d596af04" />
<br><br>
4. หากผู้ใช้อัปโหลดภาพต่ำกว่า 2 ภาพ ระบบจะไม่เปิดใช้งานปุ่มเลือกโหมดและเริ่มการวิเคราะห์ให้ดังตัวอย่าง
<img width="1919" height="918" alt="Image" src="https://github.com/user-attachments/assets/1377483f-ee4a-442c-8468-c2c3ae39384d" />

### 2. การเลือกโหมดวิเคราะห์
1. สำหรับโหมดเปรียบเทียบ (ทุกโมเดล) หรือการวิเคราะห์เชิงลึก หรือการใช้งานครั้งแรกที่ต้องการเห็นประสิทธิภาพของทุกโมเดล โดยผู้ใช้คลิกเลือกปุ่ม "โหมดเปรียบเทียบ" เมื่อเริ่มการวิเคราะห์ ระบบจะประมวลผลภาพด้วยโมเดลทั้งหมดโดยอัตโนมัติ
<img width="1919" height="927" alt="Image" src="https://github.com/user-attachments/assets/13a8f643-4b87-4457-94ec-5bd119f556d3" />
<br><br>
2. สำหรับโหมดเจาะจง (เลือกโมเดล) หรือการวิเคราะห์ที่ต้องการความรวดเร็ว โดยผู้ใช้ทราบอยู่แล้วว่าโมเดลใดให้ผลลัพธ์ที่น่าพอใจ โดยผู้ใช้คลิกเลือกปุ่ม "โหมดเจาะจง (เลือกโมเดล)" จากนั้นระบบจะแสดงเมนู Dropdown ให้ผู้ใช้สามารถเลือกโมเดลสำหรับวิเคราะห์ใบหน้าดังภาพ
<img width="1919" height="924" alt="Image" src="https://github.com/user-attachments/assets/470c58b1-1cd7-4884-a93f-87106405780a" />
<img width="1919" height="921" alt="Image" src="https://github.com/user-attachments/assets/2e3e110e-137c-4fe1-b7f3-aba0e46f3b1b" />

### 3. การเริ่มประมวลผล
หลังจากผู้ใช้คลิกปุ่ม “เริ่มการวิเคราะห์” ที่โหมดเปรียบเทียบทุกโมเดล หรือ โหมดเจาะจง ระบบจะแสดงหน้าจอการประมวลผล ซึ่งจะมีแถบสถานะที่อัปเดตตามขั้นตอนการทำงานจริง เช่น "กำลังตรวจจับใบหน้าด้วย RetinaFace" กระบวนการนี้อาจใช้เวลาหลายนาที ขึ้นอยู่กับจำนวนภาพและโหมดที่เลือก นอกจากนี้การรอประมวลผลที่ใช้เวลานาน ระบบจึงแสดงเกร็ดความรู้ ที่เกี่ยวข้องกับโปรเจคนี้ด้วย 
<img width="1919" height="924" alt="Image" src="https://github.com/user-attachments/assets/0c25442e-f56c-44ba-8da9-3ba58db5c6af" />

### 4. ผลลัพธ์
1. ส่วนนี้จะแสดงข้อมูลทั่วไปที่มี วัน-เวลา ในการประมวลผลรอบนั้นๆ และจำนวนภาพที่ทำการประมวลผล และส่วนถัดไปแสดงตารางสรุปเปรียบเทียบประสิทธิภาพโมเดล ตารางนี้จะแสดงผลสรุปภาพรวมของทุกโมเดลที่ถูกใช้ในการวิเคราะห์ โดยตารางผลสรุปมีคอลัมน์หลัก ได้แก่ 
	- ชื่อโมเดล ( ชื่อโมเดลที่ใช้ เช่น ArcFace, densenet-121 ) 
	- โมเดลเสริม ( ชื่อของเทคโนโลยีที่ใช้ร่วม เช่น retina, deeplab )
	- ประเภท ( ส่วนสำหรับวิเคราะห์ "ใบหน้า" หรือ "ฉากหลัง" )
	- จำนวนภาพ ( จำนวนภาพที่ประมวลผล )
	- เวลาประมวลผล ( เวลาที่โมเดลแต่ละตัวใช้ในการทำงาน หน่วยเป็นวินาที ) 
<img width="1919" height="864" alt="Image" src="https://github.com/user-attachments/assets/00b637f2-d1c1-47a8-85c1-bfc295198e24" />
<br><br>
2. สรุปผลการจัดกลุ่ม
	ตารางนี้จะแสดงกลุ่ม ทั้งหมดที่ระบบค้นพบจากการวิเคราะห์ คอลัมน์หลัก ได้แก่ 
	- ประเภทกลุ่มหลัก ( ผลการจำแนกกลุ่ม เช่น "คนเดียวกัน", "สถานที่เดียวกัน" )
	- กลุ่มที่ ( ลำดับของกลุ่มย่อยที่พบ )
	- จำนวนภาพ ( จำนวนสมาชิกในกลุ่มนั้นๆ )
	- รายชื่อไฟล์  (ชื่อไฟล์ภาพทั้งหมดที่เป็นสมาชิกของกลุ่ม )
	- เฉลี่ย ( Cosine / Pearson ค่าความคล้ายคลึงโดยเฉลี่ยภายในกลุ่มนั้นๆ )
ผู้ใช้สามารถคลิกที่ชื่อโมเดลบนแถบเมนูทั้งใบหน้า เช่น VGG-Face, Facenet และฉากหลัง เช่น resnet50, vit เพื่อดูผลการจัดกลุ่มของแต่ละโมเดลได้
<img width="1919" height="921" alt="Image" src="https://github.com/user-attachments/assets/460c4aff-a70e-4861-9cca-1ddeffdb7f81" />
<br><br>
<img width="1919" height="920" alt="Image" src="https://github.com/user-attachments/assets/d1996ffa-9978-4e0d-83b5-1bfd8cc75784" />
<br><br>
3. การแสดงผลกลุ่มในรูปแบบภาพของใบหน้า
	ระบบจะแสดงภาพของสมาชิกในแต่ละกลุ่มของใบหน้า 2 กลุ่มหลัก ได้แก่ “คนเดียวกัน”, “บุคคลที่ไม่ถูกจัดกลุ่ม” เพื่อให้ผู้ใช้สามารถตรวจสอบความถูกต้องด้วยสายตาได้ แต่ละกลุ่มจะแสดงข้อมูลสรุป เช่น ชื่อกลุ่ม, จำนวนสมาชิกและค่าความคล้ายคลึงเฉลี่ย และแสดงภาพของสมาชิกในกลุ่มนั้นๆ และยังมีผลการเปรียบเทียบรายคู่ภายในกลุ่มด้วย โดยผลลัพธ์การจัดกลุ่มใบหน้ากลุ่ม “คนเดียวกัน” จะถูกกำกับด้วยสีเขียว และกลุ่ม “บุคคลที่ไม่ถูกจัดกลุ่ม” จะถูกกำกับด้วยสีแดง
<img width="1919" height="914" alt="Image" src="https://github.com/user-attachments/assets/8141f4bc-f664-40d9-8a92-5784bd283e0e" />
<br><br>
<img width="1919" height="915" alt="Image" src="https://github.com/user-attachments/assets/adecd357-25e8-4843-981a-f3feaa23ae60" />
<br><br>
<img width="1919" height="918" alt="Image" src="https://github.com/user-attachments/assets/dafda254-16c5-4ff9-b13b-e560152cadbc" />
<br><br>
4. การแสดงผลกลุ่มในรูปแบบภาพของฉากหลัง และการตรวจสอบเชิงลึกด้วย SIFT
	ส่วนนี้จะแสดงภาพของสมาชิกในแต่ละกลุ่มของฉากหลัง 3 กลุ่มหลัก ได้แก่ “กลุ่มสถานที่เดียวกัน”, “สถานที่ที่ไม่ถูกจัดกลุ่ม” และสำหรับกลุ่มฉากหลังที่ผลการวิเคราะห์มีความกำกวม “ไม่สามารถระบุได้” ระบบจะแสดงผลการตรวจสอบเชิงลึกด้วย SIFT โดยอัตโนมัติ ซึ่งผลลัพธ์จะเป็นดังนี้
	- ผลลัพธ์ SIFT จะแสดงภาพประกอบที่มีเส้นเชื่อมโยงการจับคู่จุดเด่น 
	- กรณี SIFT ไม่พบจุดเด่นที่ตรงกัน จะไม่มีเส้นเชื่อมโยงปรากฏขึ้น แต่ระบบยังคงแสดงภาพฉากหลังทั้งสองเคียงข้างกันเสมอ เพื่อให้ผู้ใช้สามารถใช้ดุลยพินิจในการเปรียบเทียบด้วยตาเปล่าได้ โดยผลลัพธ์การจัดกลุ่มฉากหลังกลุ่ม “กลุ่มสถานที่เดียวกัน” จะถูกกำกับด้วยสีเขียว กลุ่ม “สถานที่ที่ไม่ถูกจัดกลุ่ม” จะถูกกำกับด้วยสีเหลือง และกลุ่ม “สถานที่ที่ไม่ถูกจัดกลุ่ม” จะถูกกำกับด้วยสีแดง
<img width="1919" height="919" alt="Image" src="https://github.com/user-attachments/assets/89c333a0-a540-46f5-bb14-bb14c5a1690d" />
<br><br>
<img width="1919" height="920" alt="Image" src="https://github.com/user-attachments/assets/d7769ae0-5e78-4d0b-a8d0-973d26cf3b0e" />
<br><br>
<img width="1919" height="923" alt="Image" src="https://github.com/user-attachments/assets/3f68f306-2d7e-40b5-acee-87f63dec5793" />
<br><br>
5. การดาวน์โหลด PDF Report
	ส่วนนี้จะอยู่ที่ส่วนท้ายสุดของการแสดงผล เมื่อผู้ใช้คลิก “ดาวน์โหลด PDF” report จะถูกดาวน์โหลดทันที และจะมีปุ่ม "วิเคราะห์ใหม่อีกครั้ง" เมื่อผู้ใช้ต้องการเริ่มวิเคราะห์ใหม่ เมื่อผู้ใช้คลิกปุ่มนี้ ผลการประมวลผลก่อนหน้าจะไม่ถูกเก็บ แล้วจะกลับไปยังหน้าหลักทันที
<img width="1919" height="997" alt="Image" src="https://github.com/user-attachments/assets/c3a373c6-03ac-4afe-9a99-7fea5981e0f6" />
<br><br>
6. การแสดงผล PDF Report
	ส่วนนี้จะแสดงผล Report ที่ได้จากการ ดาวน์โหลด PDF โดยมีส่วน 3 ส่วน ได้แก่ ผลรวม report ผล report ส่วนใบหน้า และผล report ส่วนฉากหลังมีรายละเอียดสำคัญดังนี้
	- ชื่อ Title เอกสาร
	- ข้อมูลทั่วไป
	- ตารางสรุปเปรียบเทียบประสิทธิภาพโมเดล
	- ตารางสรุปผลใบหน้า (ชื่อโมเดล) 
	- ตารางสรุปผลฉากหลัง (ชื่อโมเดล) 
<img width="1919" height="884" alt="Image" src="https://github.com/user-attachments/assets/e43d1334-9996-4ba6-9f2a-65b3180fccee" />
<img width="1919" height="883" alt="Image" src="https://github.com/user-attachments/assets/757cf89d-0db6-4e98-ae23-6a023fa1b9a2" />
<img width="1919" height="879" alt="Image" src="https://github.com/user-attachments/assets/cc37f72d-bfed-4064-b402-33f3673575bf" />

## โครงสร้างไฟล์และการทำงานที่สำคัญ
```text
FACEBACK_SIMSNAP/
│
├── backend/                       # ส่วนประมวลผล Backend
│   ├── static/
│   │   └── fonts/                # โฟลเดอร์เก็บฟอนต์ Sarabun สำหรับการแสดงผลภาษาไทย
│   ├── analysis_engine.py        # ไฟล์ประมวลผลหลักสำหรับคำนวณและผลลัพธ์
│   ├── main.py                   # ไฟล์หลักสำหรับรัน Server และจัดการ API Endpoints
│   └── requirements.txt          # Library Python ที่จำเป็น
│
├── frontend/                      # ส่วนแสดงผล Frontend
│   ├── public/                   # ไฟล์ Static และไฟล์ index.html หลัก
│   │   └── cover/
│   │       └── cover.png          # ภาพปกของหน้าเว็บ
│   ├── src/
│   │   ├── components/            # ส่วนประกอบหน้าจอ
│   │   │   ├── Home.js            # หน้าหลัก
│   │   │   ├── ModelSelector.js   # หน้าเลือกโมเดล / นำเข้าข้อมูล
│   │   │   ├── Processing.js      # หน้าแสดงสถานะการประมวลผล
│   │   │   └── Results.js         # หน้าแสดงผลลัพธ์
│   │   ├── App.js                 # ควบคุมการแสดงหน้าเว็บ
│   │   └── index.js               # จุดเริ่มต้นการทำงานของ React
│   ├── tailwind.config.js         # การตั้งค่า Tailwind CSS (Font Sarabun)
│   └── package.json               # การตั้งค่า Library และ Scripts ของ Frontend
│
└── README.md                      # คู่มือการติดตั้งและใช้งานระบบ
```

## ความต้องการของระบบ

### สำหรับเครื่อง Server
- **OS:** Windows 11 (64-bit)
- **CPU:** 64-bit ความเร็วขั้นต่ำ 2.5 GHz (4 Core ขึ้นไป)
- **RAM:** ขั้นต่ำ 16 GB (แนะนำ 32 GB)
- **Disk Space:** ว่างไม่น้อยกว่า 10 GB

### สำหรับ Software
- **Python:** เวอร์ชัน 3.11.x  
- **Node.js:** เวอร์ชัน 20.x (LTS)

---

## ขั้นตอนการติดตั้ง

### ส่วนที่ 1 การติดตั้ง Server (Backend)

1. Clone Repository
   ```bash
   git clone https://github.com/w1t1ta/FaceBack_SimSnap.git

2. เข้าสู่โฟลเดอร์ Backend
    ```bash
    cd FaceBack_SimSnap/backend

3. สร้าง Virtual Environment (Python 3.11)
    ```bash
    py -3.11 -m venv venv

4. เปิดใช้งาน Virtual Environment
    ```bash
    venv\Scripts\activate
( เมื่อสำเร็จจะมี (venv) แสดงหน้าบรรทัดคำสั่ง )

5. ติดตั้งไลบรารีที่จำเป็น
    ```bash
    pip install -r requirements.txt
    
### ส่วนที่ 2 การติดตั้ง Client (Frontend)

1. เปิด Command Prompt ใหม่ และเข้าสู่โฟลเดอร์ frontend
    ```bash
    cd FaceBack_SimSnap/frontend
    
2. ติดตั้งไลบรารี dependencies
    ```bash
    npm install

## การเริ่มใช้งานระบบ

### ขั้นตอนที่ 1 รัน Back-end

1. เปิด Command Prompt ที่อยู่ในโฟลเดอร์ backend และ activate venv แล้ว
2. รันคำสั่ง
    ```bash
    uvicorn main:app

### ขั้นตอนที่ 2 รัน Front-end

1. เปิด Command Prompt ที่อยู่ในโฟลเดอร์ frontend
2. รันคำสั่ง
    ```bash
    npm start
3. ระบบจะเปิด Web Browser อัตโนมัติที่ http://localhost:3000
